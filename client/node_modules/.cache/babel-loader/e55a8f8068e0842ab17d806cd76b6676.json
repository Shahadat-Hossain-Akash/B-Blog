{"ast":null,"code":"var _jsxFileName = \"D:\\\\b-blog\\\\client\\\\src\\\\pages\\\\writePost\\\\WritePost.jsx\",\n    _s = $RefreshSig$();\n\nimport Footer from '../../components/footer/Footer';\nimport './writePost.css';\nimport postImg from '../../images/post.jpg';\nimport edit from '../../images/Edit.png';\nimport { useContext, useState } from 'react';\nimport axios from 'axios';\nimport { Context } from '../../context/Context';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function WritePost() {\n  _s();\n\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const {\n    user\n  } = useContext(Context);\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const newPost = {\n      username: user.username,\n      title: user.title,\n      desc: user.desc\n    };\n\n    if (file) {\n      const data = FormData();\n      const filename = Date.now() + file.name;\n      data.append(\"name\", filename);\n      data.append(\"file\", file);\n      newPost.photo = filename;\n\n      try {\n        await axios.post(\"/upload\", data);\n      } catch (err) {}\n    }\n\n    try {\n      const res = await axios.post(\"/posts\", newPost);\n      window.location.replace(\"/post/\" + res.data._id);\n    } catch (err) {}\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"writePost\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sideText\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"textLine\",\n        children: \"\\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606 New Day \\u2606 New Blog \\u2606\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n      src: postImg,\n      alt: \"\",\n      className: \"writePostImage\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"writePostForm\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formGroup\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Title\",\n          className: \"writeTitle\",\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"fileInput\",\n          className: \"label\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: edit,\n            alt: \"\",\n            className: \"formImage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          id: \"fileInput\",\n          style: {\n            display: 'none'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"formGroup\",\n        children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          placeholder: \"Write your story\",\n          className: \"formArea\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"writeSubmit\",\n        type: \"submit\",\n        children: \"Publish\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n}\n\n_s(WritePost, \"s+enMQAYuSTas2vVgIFycNtzmcA=\");\n\n_c = WritePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"WritePost\");","map":{"version":3,"names":["Footer","postImg","edit","useContext","useState","axios","Context","WritePost","title","setTitle","desc","setDesc","file","setFile","user","handleSubmit","e","preventDefault","newPost","username","data","FormData","filename","Date","now","name","append","photo","post","err","res","window","location","replace","_id","display"],"sources":["D:/b-blog/client/src/pages/writePost/WritePost.jsx"],"sourcesContent":["import Footer from '../../components/footer/Footer'\r\nimport './writePost.css'\r\nimport postImg from '../../images/post.jpg'\r\nimport edit from '../../images/Edit.png'\r\nimport { useContext, useState } from 'react'\r\nimport axios from 'axios'\r\nimport { Context } from '../../context/Context'\r\n\r\nexport default function WritePost() {\r\n    const [title, setTitle] = useState(\"\")\r\n    const [desc, setDesc] = useState(\"\")\r\n    const [file, setFile] = useState(null)\r\n    const {user}  = useContext(Context)\r\n    const handleSubmit = async (e) =>{\r\n        e.preventDefault()\r\n        const newPost = {\r\n            username: user.username,\r\n            title: user.title,\r\n            desc: user.desc\r\n        }\r\n        if(file){\r\n            const data = FormData()\r\n            const filename = Date.now() + file.name\r\n            data.append(\"name\", filename)\r\n            data.append(\"file\", file)\r\n            newPost.photo = filename\r\n        try {\r\n            await axios.post(\"/upload\", data)\r\n        } catch (err) {\r\n            \r\n        }\r\n    }\r\n    try {\r\n        \r\n        const res = await axios.post(\"/posts\", newPost)\r\n        window.location.replace(\"/post/\" + res.data._id)\r\n    } catch (err) {\r\n        \r\n    }\r\n    }\r\n    return (\r\n        <div className='writePost'>\r\n            <div className=\"sideText\">\r\n                <p className=\"textLine\">\r\n                    ☆ New Day ☆ New Blog ☆ New Day ☆ New Blog ☆ New Day ☆ New Blog ☆ New Day ☆ New\r\n                    Blog ☆ New Day ☆ New Blog ☆ New Day ☆ New Blog ☆ New Day ☆ New Blog ☆ New Day ☆\r\n                    New Blog ☆ New Day ☆ New Blog ☆ New Day ☆ New Blog ☆ New Day ☆ New Blog ☆ New\r\n                    Day ☆ New Blog ☆ New Day ☆ New Blog ☆ New Day ☆ New Blog ☆ New Day ☆ New Blog ☆\r\n                    New Day ☆ New Blog ☆\r\n                </p>\r\n            </div>\r\n            \r\n            <img src={postImg} alt=\"\" className=\"writePostImage\"/>\r\n            <form className=\"writePostForm\" onSubmit={handleSubmit}>\r\n                <div className=\"formGroup\">\r\n                    <input type=\"text\" placeholder='Title' className='writeTitle' autoFocus={true}/>\r\n                    <label htmlFor=\"fileInput\" className='label'>\r\n                        <img src={edit} alt=\"\" className='formImage'/>\r\n                    </label>\r\n                    <input\r\n                        type=\"file\"\r\n                        id=\"fileInput\"\r\n                        style={{\r\n                            display: 'none'\r\n                        }}/>\r\n                </div>\r\n                <div className=\"formGroup\">\r\n                    <textarea type='text' placeholder='Write your story' className=\"formArea\"></textarea>\r\n                </div>\r\n                <button className=\"writeSubmit\" type='submit' >Publish</button>\r\n            </form>\r\n            <Footer/>\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,gCAAnB;AACA,OAAO,iBAAP;AACA,OAAOC,OAAP,MAAoB,uBAApB;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,OAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,uBAAxB;;AAEA,eAAe,SAASC,SAAT,GAAqB;EAAA;;EAChC,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACQ,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAM;IAACU;EAAD,IAAUX,UAAU,CAACG,OAAD,CAA1B;;EACA,MAAMS,YAAY,GAAG,MAAOC,CAAP,IAAY;IAC7BA,CAAC,CAACC,cAAF;IACA,MAAMC,OAAO,GAAG;MACZC,QAAQ,EAAEL,IAAI,CAACK,QADH;MAEZX,KAAK,EAAEM,IAAI,CAACN,KAFA;MAGZE,IAAI,EAAEI,IAAI,CAACJ;IAHC,CAAhB;;IAKA,IAAGE,IAAH,EAAQ;MACJ,MAAMQ,IAAI,GAAGC,QAAQ,EAArB;MACA,MAAMC,QAAQ,GAAGC,IAAI,CAACC,GAAL,KAAaZ,IAAI,CAACa,IAAnC;MACAL,IAAI,CAACM,MAAL,CAAY,MAAZ,EAAoBJ,QAApB;MACAF,IAAI,CAACM,MAAL,CAAY,MAAZ,EAAoBd,IAApB;MACAM,OAAO,CAACS,KAAR,GAAgBL,QAAhB;;MACJ,IAAI;QACA,MAAMjB,KAAK,CAACuB,IAAN,CAAW,SAAX,EAAsBR,IAAtB,CAAN;MACH,CAFD,CAEE,OAAOS,GAAP,EAAY,CAEb;IACJ;;IACD,IAAI;MAEA,MAAMC,GAAG,GAAG,MAAMzB,KAAK,CAACuB,IAAN,CAAW,QAAX,EAAqBV,OAArB,CAAlB;MACAa,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,WAAWH,GAAG,CAACV,IAAJ,CAASc,GAA5C;IACH,CAJD,CAIE,OAAOL,GAAP,EAAY,CAEb;EACA,CA1BD;;EA2BA,oBACI;IAAK,SAAS,EAAC,WAAf;IAAA,wBACI;MAAK,SAAS,EAAC,UAAf;MAAA,uBACI;QAAG,SAAS,EAAC,UAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA,QADJ,eAWI;MAAK,GAAG,EAAE5B,OAAV;MAAmB,GAAG,EAAC,EAAvB;MAA0B,SAAS,EAAC;IAApC;MAAA;MAAA;MAAA;IAAA,QAXJ,eAYI;MAAM,SAAS,EAAC,eAAhB;MAAgC,QAAQ,EAAEc,YAA1C;MAAA,wBACI;QAAK,SAAS,EAAC,WAAf;QAAA,wBACI;UAAO,IAAI,EAAC,MAAZ;UAAmB,WAAW,EAAC,OAA/B;UAAuC,SAAS,EAAC,YAAjD;UAA8D,SAAS,EAAE;QAAzE;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI;UAAO,OAAO,EAAC,WAAf;UAA2B,SAAS,EAAC,OAArC;UAAA,uBACI;YAAK,GAAG,EAAEb,IAAV;YAAgB,GAAG,EAAC,EAApB;YAAuB,SAAS,EAAC;UAAjC;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QAFJ,eAKI;UACI,IAAI,EAAC,MADT;UAEI,EAAE,EAAC,WAFP;UAGI,KAAK,EAAE;YACHiC,OAAO,EAAE;UADN;QAHX;UAAA;UAAA;UAAA;QAAA,QALJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAaI;QAAK,SAAS,EAAC,WAAf;QAAA,uBACI;UAAU,IAAI,EAAC,MAAf;UAAsB,WAAW,EAAC,kBAAlC;UAAqD,SAAS,EAAC;QAA/D;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAbJ,eAgBI;QAAQ,SAAS,EAAC,aAAlB;QAAgC,IAAI,EAAC,QAArC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAhBJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAZJ,eA8BI,QAAC,MAAD;MAAA;MAAA;MAAA;IAAA,QA9BJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAkCH;;GAlEuB5B,S;;KAAAA,S"},"metadata":{},"sourceType":"module"}